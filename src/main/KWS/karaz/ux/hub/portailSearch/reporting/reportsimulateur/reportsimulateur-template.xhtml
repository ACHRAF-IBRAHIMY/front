<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
#macro( xt $str )
    <span>$str.replace("&","&amp;").replace("<","&lt;").replace(">","&gt;").replace("'","&#39;")</span>
#end
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>SIMULATEUR DES PROCÉDURES</title>
<style type="text/css">

@page { 
margin-top:17mm;margin-bottom:17mm;
size:A4; 
@bottom-left{ content: "© ROKHAS"; font-size:12px; font-family:Candara; color:#3C5F8D;} 
@bottom-center { content: "Imprimé Le : $sdf.format($now)"; font-size:12px; font-family:Candara; color:#3C5F8D;} 
@bottom-right { content: "Page " counter(page) " / " counter(pages)  ; font-size:12px; font-family:Candara; color:#3C5F8D;}
} 

table {    -fs-table-paginate: paginate;}
tr{ page-break-inside:avoid;}

.table5 {
    width: 95%;
    margin: auto;
    margin-top: 35px;
}

.table5 td {
    padding-right: 2mm;
    height: 15px;
    font-size: 12px;
    font-family: Candara;
    text-align: left;
    margin: 0;
}

.table5 th {
    text-align: center;
    height: 15px;
    font-size: 15px;
    font-family: Candara;
}

.table5 td, th {
  border: 1px solid #eee;
  padding: 8px;
}

.table5 tr:nth-child(even) {
  background-color: #eee;
}

span.mem{
    border: 1px solid #000;
    border-radius: 2px;
    padding: 2px 4px;
    margin: 2px;
    display: inline-block; 
}

</style>
</head>
 
<body>
<div style="text-align:center;margin:auto"> <img src="$resource-entete-page_PNG" /></div>
<div style="font-size: 15px;font-family: Candara;text-align: justify;margin: auto;width:95%;margin-top:30px;">
    SIMULATEUR DES PROCÉDURES :    
</div>
#set($xml=$dt.get("data"))

<table  class="table5">
<thead>
<tr><th colspan="2">RÉCAPITULATIF DES CHOIX</th></tr>
</thead>
<tbody>
#foreach($ch in $xml.getElements("dataReport.chemin"))
<tr><td>$xml.getValue($ch,"question")</td><td>$xml.getValue($ch,"reponse")</td></tr>
 #end
 </tbody> 
</table>

<table  class="table5">
<thead>
<tr><th>DOCUMENTS REQUIS</th><th>FORMAT</th></tr>
</thead>
<tbody>
#foreach($ch in $xml.getElements("dataReport.docsR"))
<tr><td>$xml.getValue($ch,"docName")</td><td>$xml.getValue($ch,"type")</td></tr>
 #end
 </tbody> 
</table>

<table  class="table5">
<thead>
<tr><th colspan="2">ÉTAPES CLÉS</th></tr>
</thead>
<tbody>
#set($index=1)    
#foreach($ch in $xml.getElements("dataReport.steps"))
<tr>
    <td>$index</td>
    <td>$xml.getValue($ch,"stepName")
        #foreach($m in $xml.getElements($ch,"membre"))
            <span class="mem"> $m.getText() </span>
        #end
    </td>
</tr>
#set($index=$index+1)
 #end
 </tbody> 
</table>

<table  class="table5">
<thead>
<tr><th>DOCUMENTS COMPLEMENTAIRES
</th><th>FORMAT</th></tr>
</thead>
<tbody>
#foreach($ch in $xml.getElements("dataReport.docsC"))
<tr><td>$xml.getValue($ch,"docName")</td><td>$xml.getValue($ch,"type")</td></tr>
 #end
 </tbody> 
</table>

<table  class="table5">
<thead>
<tr><th>DOCUMENTS FACULTATIFS</th><th>FORMAT</th></tr>
</thead>
<tbody>
#foreach($ch in $xml.getElements("dataReport.docsF"))
<tr><td>$xml.getValue($ch,"docName")</td><td>$xml.getValue($ch,"type")</td></tr>
 #end
 </tbody> 
</table>

</body>

<div style="font-size: 12px;font-family: Candara;text-align: justify;margin: auto;width:95%;margin-top:30px;">
    <p><b>Remarque : </b> Des variations peuvent être constatées entre les informations fournies par le simulateur Rokhas.ma et le déroulement réel de la procédure lors du dépôt de la demande sur la plateforme. 
Ces potentielles variations dépendent généralement de la nature particulière de certains dossiers, de l'évaluation de l'administration compétente et de la localisation du projet concerné.</p>   
</div>
</html>