<?xml version="1.0" encoding="UTF-8"?>
<search name="AlertSearch" label="Alerts">
  <query />
  <data>
    <query>
      <search />
      <idObject />
      <parentP />
    </query>
    <collapsed>false</collapsed>
  </data>
  <view>
    <screen labelWidth="80" label="My Dashboard" noToolBar="true">
      <script postLoad="true">
          var toolbarOptions = [
    [ 'bold', 'italic', 'underline', 'strike' ],
    [{ 'color': [] }, { 'background': [] }],
    [{ 'header': '1' }, { 'header': '2' }],
    [{ 'list': 'ordered' }, { 'list': 'bullet'}, { 'indent': '-1' }, { 'indent': '+1' }],
    [ 'direction', { 'align': [] }],
    ['image'],
  ];

        var ddv = context.formRender.targetPanel.find("#toolbarNBNB").get(0);
        var quill = new Quill(ddv, {
          modules: {
            toolbar: toolbarOptions
          },
          theme: 'snow'
        });
      </script>
      <css>
 		.hp-box-nbnb{
	            display: block;
	    	    padding: 1rem;
			    margin: 10px 1rem;
			    color: var(--fg1);
			    background-color: white;
			    border-radius: 2px;
			    box-shadow: 3px 3px 3px #0004;
			    border: 1px solid #DDD;
			    text-align: center;
			    height: 100%;
			    box-sizing: border-box;
          }

          #toolbarNBNB{
            height: 130px;
          }

          .marquenbnb p{
            display:inline;
            margin-left:5px;
          }
      </css>
      <script postLoad="true" xcstt="x"> 
    </script>
      <html id="hSeparator">
        <div style="height: 30px;" xcstt="x" />
      </html>
      <vbox labelAlign="float" >
        <vbox columns="50% 50%">
          <vbox className="list-nb-cnt hp-box-nbnb" style="text-align:left !important;">

          </vbox>
          <vbox className="nb-editor hp-box-nbnb" style="text-align:left !important;">
            <vbox className="toolbar-nb" columns="33% 33% 33%">
              <field label="Type d'alert" required="true" widget="select" xpath="typeAlrt">
                <option label="Warning" value="Warning" />
                <option label="Danger" value="Danger" />
                <option label="Customize" value="Customize" />
              </field>
              <field label="Statut" required="true" widget="select" xpath="statut">
                <option label="Activé" value="Active" />
                <option label="Désactivé" value="Desactive" />
              </field>
            </vbox>
            <vbox visible="'{typeAlrt}'=='Customize',expr,boolean" columns="33% 33% 33%">
              <field label="Fa icon" xpath="iconAlrt"></field>
              <field label="Backgournd color" xpath="bgColorAlrt"></field>
              <field label="Color" xpath="colorAlrt"></field>
            </vbox>
            <vbox>
              <html style="margin-top:20px;margin-bottom:20px">
                <div id="toolbarNBNB"></div>
              </html>
            </vbox>
            <vbox columns="100px 100px">
              <button label="Visualiser">
                <postChange>
                  createAlertObject(context,root)
                  root.visual = "oui";
                  context.formRender.notifyObservers("visual");
                </postChange>
              </button>
              <button label="Enregistrer">

              </button>
              
            </vbox>
            <vbox visible="'{visual}'=='oui',expr,boolean">
              <html className="visual-nbnb" style="margin-top:20px">
                <marquee>
                </marquee>
              </html>
            </vbox>
          </vbox>
        </vbox>
      </vbox>
      <html>
        <div style="height: 30px;" />
      </html>
    </screen>
  </view>
</search>
