<?xml version="1.0" encoding="UTF-8"?>
<search name="commentsGb" label="Commentaires">
  <query />
  <data>
    <query>
      <keys />
      <idObject />
      <redirectArt />
    </query>
    <article>
    </article>
    <articleCommentName>
    </articleCommentName>
    <articleCommentLastName>
    </articleCommentLastName>
    <articleCommentEmail>
    </articleCommentEmail>
    <articleComment>
    </articleComment>
    <collapsed>false</collapsed>
  </data>
  <view transContext="portailSearch">

        <component name="htmlTranslate">
            <renderer name="createAccount">
                <html>
                    <span style="display:grid;grid-template-columns:100%;">
                        <span>
                        ${code | translate} 
                        </span>
                    </span>
                    <hr class="header-create-account-horizontal-line hr-hub" />
                </html>
            </renderer>

            <renderer name="crudComment">
                <html>
                    <h1 style="color: #666;font-size: 20px;" class="add-comment">${code1 | translate}</h1>
                    <span class="rep-comment" idd="" style="display:none;">
                        <span style="display:grid;grid-template-columns: 50% 50%;">
                        <span style="color: #666;font-size: 20px;margin-bottom: 5px;">${code2 | translate}</span>
                        <span style="text-align:right;cursor:pointer" class="annuler-rep-comment"><i class="fas fa-close" /> ${code3 | translate}</span>  
                        </span>
                    </span>
                    <span style="color:#e08a08;font-size:14px;display: block;margin-bottom: 14px;">${code4 | translate}</span>
                    </html>
            </renderer>

            <renderer name="htmlComb">
                <html className="htmlComb">
                <span style="display: block;margin-top: 8px;margin-left: 8px;margin-bottom: 5px;">${code | translate}</span>
                <div id="toolbarsecCom" />
              </html>
            </renderer>

        </component>
    <screen labelWidth="80" label="My Dashboard" noToolBar="true" transContext="portailSearch" supportLangRedirection="true">

        <script onLoad="true">
                try{
                    root.userlang=userLocal;
                    context.formRender.notifyObservers("userlang");
                }catch(e){
                    console.log("ERROOOR",e);
                }
            </script>
      <script postLoad="true"> 
        var id = root.query.idObject;
        profilesT = profiles;
        getObjectArticleCmt(id,root,context.formRender.targetPanel);
        
        var toolbarOptions = [
    [ 'bold', 'italic', 'underline', 'strike' ],
    [{ 'color': [] }, { 'background': [] }],
    [{ 'header': '1' }, { 'header': '2' }],
    [{ 'list': 'ordered' }, { 'list': 'bullet'}, { 'indent': '-1' }, { 'indent': '+1' }],
    [ 'direction', { 'align': [] }],
    ['image'],
  ];

        var ddv = context.formRender.targetPanel.find("#toolbarsecCom").get(0);
        var quill = new Quill(ddv, {
          modules: {
            toolbar: toolbarOptions
          },
          theme: 'snow'
        });

        context.formRender.targetPanel.find(".annuler-rep-comment").click(function(){
          context.formRender.targetPanel.find(".comment-form h1.add-comment").show();
          context.formRender.targetPanel.find(".comment-form span.rep-comment").hide(); 
          context.formRender.targetPanel.find(".comment-form span.rep-comment").attr("idd","");
      });

      </script>
      <html id="hSeparator">
          <style>
    
            .reseau-ss .like.active-like{
            color:#38A;
            }
    
            .divSearch-article{
            color:#333 !important;
            padding : 0 !important;
            }
    
            .divSearch-article .div-fsb-details .fsb-container {
            padding-left: 0; 
            }
    
            .divSearch-article .det-div{
              color:#333;
            //border: 1px solid #ccc;
            //background: #eee;
              padding: 8px;
              font-size:1vw;
            }
    
            .divSearch-article .article-img{
            //border: 1px solid #ccc;
            border-bottom:none;
            background: #eee;
            }
    
            .divSearch-article .article-desc{
            //background: #eee;
            //border: 1px solid #ccc;
            border-top: none;
            padding-left : 5px;
            padding-right : 5px;
            color:#666;
            }
    
            .classSearch-comments .content-article{
            color:#666;
            }
    
            .classSearch-comments .comment-form{
            padding: 25px 20px;
            border: 1px solid #eee;
            background : #f5f5f5;
            width: 95%;
            margin:auto;
            margin-top: 25px;

            }
    
            .classSearch-comments .comment-form .ow-field-input{
            background: #f5f5f5;
            }
    
    
            .classSearch-comments .comment-form .ow-field-input-wrapper{
            background: #f5f5f5;
            }
    
            .classSearch-comments .send-comment{
            color: #fff;
            background: #38A;
            margin-top: 43px;
            float: right;
            margin-right: 14px;
            font-size: 18px;
            } 
    
          .classSearch-comments .send-comment span{ font-size:17px;}
    
          .classSearch-comments .comment-det{
                color: #333;
                margin: 10px 2px;
                padding: 3px 4px;
          }
     
          .classSearch-comments .comment-det p,.classSearch-comments .comment-det li{
              margin:1px;
          }
    
          .classSearch-comments .comment-det ul,.classSearch-comments .comment-det ol{
            margin:2px;
        }
    
          .classSearch-comments .content-article p{
            margin-top: 12px;
            margin-bottom: 12px;
            font-family:Droid Arabic Kufi, sans-serif;
          }
    
              .article-title,.article-desc{
                font-family:Droid Arabic Kufi, sans-serif;
              }
    
              
              #toolbarsecCom{
                  height: 100px;
                  background: #fff;
                  color: #333;
                  font-size:15px;
              }
    
              .htmlComb{
                width: 95%;
                margin: auto;
              }
              
              .classSearch-comments{
                padding-left:6.5% !important;
                padding-right:6.5% !important;
                padding-top: 4% !important;
                padding-bottom: 4% !important;
              }
    
          </style>
      </html>
      <vbox className="hp-box hp-small classSearch-comments classSearch-82">
        <htmlTranslate renderer="createAccount" code="COMM00" />
        <vbox className="comments-list">
          <!-- <vbox columns="20% 80%">
          <vbox className="comment-user-img">
            <html>
              <img src="" alt=""/>              
            </html>
          </vbox>
          <vbox className="comment-det">
            <html>
              <div class="comment-user-name">
                  Nom Prenom
              </div>
              <div class="comment-det">
                commentaire commentaire commentaire commentaire commentaire commentaire commentaire commentaire commentaire.
              </div>
              <div class="div-date">
                <span class="date">20/10/2019</span>
                <span>Répondre</span>
              </div>
            </html>
          </vbox>
        </vbox>
<vbox columns="20% 80%">
          <vbox className="comment-user-img">
            <html>
              <img src="" alt=""/>              
            </html>
          </vbox>
          <vbox className="comment-det">
            <html>
              <div class="comment-user-name">
                  Nom Prenom
              </div>
              <div class="comment-det">
                commentaire commentaire commentaire commentaire commentaire commentaire commentaire commentaire commentaire.
              </div>
              <div class="div-date">
                <span class="date">20/10/2019</span>
                <span>Répondre</span>
              </div>
            </html>
          </vbox>
        </vbox> -->

        </vbox>
        
        
        <vbox className="comment-form">
        <htmlTranslate renderer="crudComment" code1="AVC00" code2="RAC00" code3="ALR00" code4="Comm-TEXT" />
          <vbox columns="33% 33% 33%">
                <field label="NOM*" widget="text" labelAlign="float" xpath="articleCommentName" />
                <field label="PRENOM*" widget="text" labelAlign="float" xpath="articleCommentLastName" />
                <field label="EMAIL*" widget="text" labelAlign="float" xpath="articleCommentEmail" />
          </vbox>
          <vbox>
              <!-- <field label="COMMENTAIRE" widget="textArea" labelAlign="float" xpath="articleComment" /> -->

              <htmlTranslate renderer="htmlComb" code="COMM00" />
          </vbox>
          <vbox columns="80% 20%">
              <vbox>
                <html>
                  <span class="err-msg" style="color:red;font-size:13px;display:block;margin-top: 30px;margin-left: 23px;" />
                </html>
              </vbox>
              <vbox>
                <button className="send-comment" label="ENVOYER">
                  <postChange>
                    addComment(root,context.formRender.targetPanel,context,true);
                  </postChange>
                </button>
              </vbox>                  
          </vbox>
          <html>
         
          </html>
        </vbox>
      <vbox>
      
      </vbox>
      
      </vbox>
      <html>
        <div style="height: 30px;" />
      </html>
    </screen> 
    <script onLoad="true" />
  </view>
</search>
