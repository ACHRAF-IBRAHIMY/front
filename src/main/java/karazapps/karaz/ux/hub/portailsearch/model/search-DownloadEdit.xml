<?xml version="1.0" encoding="UTF-8"?>
<search name="DownloadEdit" label="Download Edit">
 <query />
  <data>
    <query>
      <search />
      <idObject />
      <parentP />
    </query>
    <collapsed>false</collapsed>
    <nfqresponse />
    <categ />
    <question />
      <attachement>
          <fileId />
          <fileName />
          <fileSize />
          <fileSignature />
          <fileTime />
          <gedId />
        </attachement>
        <krn />
  </data>
  <view>
    <screen labelWidth="80" label="My Dashboard" noToolBar="true">
      <script postLoad="true">
      context.formRender.metaData.id=-1;
      $(".krnActionBtn").click();
     /*   ApplicationManager.runRemoteAction('karaz/ux/hub/action/PortailActions?operation=getKrn',context.formRender.metaData.id,context.formRender.dataObjectRoot,context.formRender);
        
        console.log("root***=",root);
        console.log("context***=",context);
       root.krn=context.formRender.dataObject.krn;
       context.formRender.notifyObservers("krn");
       context.formRender.krn=root.krn;*/
        removeLastRootPage(userName);
            	
                $(".rokhas-home").click(function(){
                    ApplicationManager.run("karaz/ux/hub/portailsearch/search/PublicCentralSearch","search", "PublicCentralSearch", {});
                });


                $(".tags a").click(function(){
                console.log("href:"+$(this).attr("href"));
                var pos = $("."+$(this).attr("href").substr(1)).offset().top;
                $('html,body').animate(
                  {
                  scrollTop: pos
                  },
                  'slow');
                });


                $(".scroll-top-sp").click(function(){
                $('html,body').animate(
                {
                scrollTop: $("body").offset().top
                },
                'slow');
                });

                // add style to question type header
                // hide saisie info question
                $(".classSearch-11 .NQF-edit-modif").hide()
                // hide imge
                $(".classSearch-11 .NFQ-load-img").hide();
                getAllplayLists(1,100,"classSearch-11");
            </script>
      <html id="hSeparator">
        <div style="height: 30px;" />
      </html>
      <vbox columns="70% 30%" className="classSearch-11">
        <vbox>
        <button visible="1,=,2" className="krnActionBtn" label="getKrn" actionName="karaz/ux/hub/action/PortailActions?operation=getKrn">
<postChange>
 console.log("root***=",root);
        console.log("context***=",context);
        context.formRender.krn=root.krn;
</postChange>
        </button>
          <fieldset label="ATTACHEMENT" collapsible="false" className="pcd-header-NQF NQF-titre-quest div-det-acc PDC-hov-title ">
            <vbox className="NQF-new-quest-btn">
              <button label="Nouveau Télechargement" style="margin-bottom:10px" className="NQF-btn-new">
                <postChange>$('.classSearch-11 .ow-field-input[data-xpath="title"]').val("");
			                        $('.classSearch-11 .ow-field-input-select[data-xpath="categ"]').text("");
                                    $('.classSearch-11 .ow-field-input[data-xpath="url"]').val("");
                                    $('.classSearch-11 .ow-field-input-line textarea[data-xpath="description"]').val(""); 
			                        $('.classSearch-11 .ow-field-input-select[data-xpath="playlist"]').text("");
                                    $(".classSearch-11 .NQF-vue-question").hide();
                                    $(".classSearch-11 .NQF-edit-modif").show();
                                    //NQF_new_QR(1);</postChange>
              </button>
            </vbox>
            <html className="NFQ-load-img">
              <img src="img/load-text.gif" />
            </html>
            <vbox className="NQF-edit-modif">
              <fieldset label="DONNÉES ATTACHEMENT" className="NQF-shadow">
                <vbox className="DC-Customized-fields-NQF NQF-edit-float">
                  <field label="Titre" widget="text" labelAlign="float" xpath="title" />
                  <vbox contentAlign="center" columns="40% 60%" className="NQF-edit-select-float">
                    <field widget="select" label="Type de l'attachemnt" labelAlign="float" xpath="categ">
                      <option value="DOC" label="DOC" />
                      <option value="INSTALL" label="INSTALL" />
                    </field>
                    <vbox className="attachement-vue-glo" columns="85% 15%">
                      <field label="URL" widget="text" labelAlign="float" className="url-vue" xpath="url" />
                      <field xpath="attachement" className="attachement-vue" label="Attacher" widget="fileUpload" />
                      <html className="att-icons">
                        <i class="fas fa-upload" style="color:#38A;font-size=13px" />
                        <i class="fas fa-link" style="color:#38A;font-size=13px" />
                      </html>
                    </vbox>
                    <vbox>
                      <field widget="select" label="Playlist" labelAlign="float" xpath="playlist" searchQN="frontal/uxhub/portailSearch/playListDownload" className="playlist-list">
                      </field>
                    </vbox>
                    <vbox>
                      <field label="Description" widget="textArea" labelAlign="float" xpath="description" />
                    </vbox>
                  </vbox>

                  <button icon="fas fa-eye" label="Visualiser" usage="visualisation:R" postProcessing="openFile,attachement.gedId,none" />
                  <field xpath="attachement" label="attacher" widget="fileUpload" />
                
                  <field label="URL Image" widget="text" labelAlign="float" xpath="imgUrl" />
                </vbox>


              </fieldset>
              <fieldset label="TEXT" className="NQF-shadow editor-download">
                <field noLabel="true" widget="htmlEditor" xpath="nfqresponse" />
              </fieldset>
              <vbox columns="auto 45%" className="DC-box-btn-filtrer">
                <hx />
                <vbox columns="33% 33% auto" style="margin-right: 2em;">
                  <button label="Prévisualiser " className="DC-btn-filtrer-NQF NQF-btn-filtrer-color NQF-btn-color-blue NQF-btn-color">
                    <postChange>NQF_preview_QR(4,"classSearch-11");</postChange>
                  </button>
                  <button label="Nouveau" style="" className="DC-btn-filtrer-NQF  NQF-btn-color-normal">
                    <postChange>//NQF_new_QR(1);
                                            $('.classSearch-11 .ow-field-input[data-xpath="title"]').val("");
                                            $('.classSearch-11 .ow-field-input-select[data-xpath="categ"]').text("");
                                            $('.classSearch-11 .ow-field-input[data-xpath="url"]').val("");
                                            $('.classSearch-11 .ow-field-input-line textarea[data-xpath="description"]').val(""); 
                                            $('.classSearch-11 .ow-field-input-select[data-xpath="playlist"]').text("");
                                            $(".classSearch-11 .NQF-vue-question").hide();</postChange>
                  </button>
                  <button label="Enregistrer" className="DC-btn-filtrer-NQF NQF-btn-check NQF-btn-color-normal">
                    <postChange>if(verifieDownload("classSearch-11")==true){
                                                NQF_save_QR(4);
                                            }
                    </postChange>
                  </button>
                </vbox>
              </vbox>
            </vbox>
            <vbox className="NQF-vue-video NQF-vue-question">
              <vbox columns="50% 50%">
                <html className="vue-video-frame">
                  <iframe src="https://player.vimeo.com/video/241206308?rel=0" width="100%" height="100%" frameborder="0" />
                </html>
                <html className="vue-video">
                  <div style="padding-left:15px;">
                    <h4 class="vue-video-title">
                      <b>1-title1title1title1title1</b>
                    </h4>
                    <p class="vue-video-description">descriptionde scr iption descrip tiond escript iondescripti ondes cri ption de scription description description description</p>
                    <p hidden="hidden" class="NQF-categorie" />
                    <p hidden="hidden" class="NQF-id" />
                  </div>
                </html>
                <vbox />
              </vbox>
              <vbox columns="80% 10% auto" className="NQF-btn-alg">
                <vbox />
                <button label="Supprimer" className="DC-btn-filtrer-NQF NQF-btn-color NQF-btn-color-blue ">
                  <postChange>let id = $(".classSearch-11 .NQF-id").val();
                                        removeQuestionNFQ(id,"/videos_index/video/");
                                        $(".NQF-vue-question").hide();
										//NQF_remove_subtitle();</postChange>
                </button>
                <button label="Editer" className="DC-btn-filtrer-NQF NQF-btn-color NQF-btn-color-blue ">
                  <postChange>console.log("root================",root);
                                        console.log("context================",context);
                                        NQF_edit_av(4,root,context,"classSearch-11");</postChange>
                </button>
              </vbox>
            </vbox>
            <fieldset header="AUTRES VIDÉOS DE PLAYLIST" className="faq-fieldset-det NFQ-all-quest">
              <html>
                <div class="vpanel-body full-search-list" />
                <div class="searchGif2" style="display:none">
                  <img src="img/search-move.gif" />
                </div>
                <div class="pagination-new-style">
                  <div class="pagination-1" />
                </div>
              </html>
            </fieldset>
          </fieldset>
        </vbox>
        <vbox>
          <fieldset header="LISTE DES ATTACHEMENTS" collapsible="false" className="div-det-acc PCD-addtitle pcd-ha-color NQF-freq-quest v-edit" />
        </vbox>
      </vbox>
      <html>
        <div style="height: 30px;" />
      </html>
    </screen>
    <script onLoad="true" />
  </view>
</search>
